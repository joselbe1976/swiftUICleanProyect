import UIKit
import CryptoKit

let datoOfuscado:[UInt8] = [0x34+0x1C,0x59+0x0C,0xA1-0x3D,0x91-0x30,0x13+0x67,0x14+0x5B,0x07+0x3D,0x97-0x32,0x84-0x41,0xB9-0x4D,0x88-0x27,0x87-0x11,0x71-0x0C,0x49-0x05,0x7D-0x18,0x72-0x26,0x7B-0x1A,0x73-0x23,0x78-0x06,0xBD-0x5C,0x61+0x03,0x07+0x5E,0xA2-0x30,0x32+0x2F,0x64-0x2D,0x3F+0x04,0x8D-0x2C,0x28+0x3A,0x4B+0x16,0x16+0x56,0x93-0x27,0x4B+0x24]

let mensaje = "Esto es un dato muy secreto que nadie puede saber sopena de Muerte."
let mensajeData = mensaje.data(using: .utf8)!

let keyS = SymmetricKey(data: Data(datoOfuscado))
let mensajeCifrado = try! AES.GCM.seal(mensajeData, using: keyS)
let cifrado = mensajeCifrado.combined?.base64EncodedString()

let cifradoData = Data(base64Encoded: cifrado!)!
let sealedBox = try! AES.GCM.SealedBox(combined: cifradoData)
let descifrado = try! AES.GCM.open(sealedBox, using: keyS)

let mensajeRecuperado = String(data: descifrado, encoding: .utf8)!
mensajeRecuperado
 


